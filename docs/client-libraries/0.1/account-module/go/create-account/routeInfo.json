{"path":"docs/client-libraries/0.1/account-module/go/create-account","templateID":1,"sharedPropsHashes":{},"localProps":{"markdown":"# Create an account in Go\n\n**In this guide, you create an account to keep track of your seed state in a local database and print your account's balance to the console.**\n\n## Packages\n\nTo complete this guide, you need to install the following packages (if you're using Go modules, you just need to reference these packages):\n\n```bash\ngo get github.com/iotaledger/iota.go/api\ngo get github.com/iotaledger/iota.go/badger\ngo get github.com/iotaledger/iota.go/builder\ngo get github.com/iotaledger/iota.go/timesrc\ngo get github.com/iotaledger/iota.go/trinary\n```\n\n## IOTA network\n\nIn this guide, we connect to a node on the [Devnet](/docs/getting-started/0.1/network/iota-networks#devnet).\n\n## Code walkthrough\n\n1\\. Create a new seed and back it up\n\n--------------------\n### Linux\n```bash\ncat /dev/urandom |tr -dc A-Z9|head -c${1:-81}\n```\n---\n### macOS\n```bash\ncat /dev/urandom |LC_ALL=C tr -dc 'A-Z9' | fold -w 81 | head -n 1\n```\n---\n### Windows PowerShell\n```bash\n$b=[byte[]] (1..81);(new-object Security.Cryptography.RNGCryptoServiceProvider).GetBytes($b);-join($b|%{[char[]] (65..90+57..57)[$_%27]})\n```\n--------------------\n\n2\\. Define the seed that your account will use\n\n```go\nvar seed = trinary.Trytes(\"PUEOTSEITFEVEWCWBTSIZM9NKRGJEIMXTULBACGFRQK9IMGICLBKW9TTEVSDQMGWKBXPVCBMMCXWMNPDX\")\n```\n\n:::info:\nIf you want to use a seed from a particular location, for example a hardware wallet, create a custom `SeedProvider` object, and pass it to the `WithSeedProvider()` method.\n:::\n\n3\\. Connect to a node\n   \n```go\napiSettings := api.HTTPClientSettings{URI: \"https://nodes.devnet.iota.org:443\"}\niotaAPI, err := api.ComposeAPI(apiSettings)\nhandleErr(err)\n```\n\n4\\. Create a storage object to which the account can save the seed state. In this example, the seed state is stored in a BadgerDB database. Change `db` to the path where you want to save the database directory.\n\n```go\nstore, err := badger.NewBadgerStore(\"db\")\nhandleErr(err)\n\n// Make sure the database closes when the code stops\ndefer store.Close()\n```\n\n5\\. Create a `timesource` object that returns an accurate time, which the account will use to decide if your CDAs are still active. In this example, the time source is a [Google NTP (network time protocol) server](https://developers.google.com/time/faq).\n\n```go\ntimesource := timesrc.NewNTPTimeSource(\"time.google.com\")\n```\n\n6\\. Build your account. If you don't specify any custom settings, the account uses the [defaults](https://github.com/iotaledger/iota.go/blob/master/.docs/iota.go/reference/account_default_settings.md).\n\n```go\naccount, err := builder.NewBuilder().\n    // Connect to a node\n    WithAPI(iotaAPI).\n    // Create the database\n    WithStore(store).\n    WithSeed(seed).\n    // Set the minimum weight magnitude for the Devnet\n    WithMWM(9).\n    WithTimeSource(timesource).\n    // Load the default plugins that enhance the functionality of the account\n    WithDefaultPlugins().\n    Build()\nhandleErr(err)\n```\n\nThe default plugins include the `transfer-poller` and the `promoter-reattacher` plugins.\n\nEvery 30 seconds, the `transfer-poller` plugin checks whether withdrawals have been confirmed or whether any deposits are pending.\n\nThe `promoter-reattacher` plugin [promotes or reattaches](/docs/getting-started/0.1/transactions/reattach-rebroadcast-promote) any pending withdrawal transactions that the `transfer-poller` finds.\n\n:::info:\nYou can customize the behavior of these plugins or build your own.\n:::\n\n7\\. Start the account and the plugins\n\n```go\nhandleErr(account.Start())\n\ndefer account.Shutdown()\n```\n\n8\\. Check your account's balance\n\n```go\nbalance, err := account.AvailableBalance()\nhandleErr(err)\nfmt.Println(\"Total available balance: \")\nfmt.Println(balance)\n```\n\nYou should see your balance.\n\n:::success:Congratulations! :tada:\nYou've created an account that will automatically promote and reattach transactions as well as manage the state of your seed.\n:::\n\n## Run the code\n\nTo get started you need [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git) installed on your device.\n\nIf you don't have a Go development environment, or if this is your first time using the Go client library, complete our [getting started guide](../../getting-started/go-quickstart.md).\n\nIn the command-line, do the following:\n\n```bash\ngit clone https://github.com/JakeSCahill/getting-started-go-accounts.git\ncd getting-started-go-accounts\ngo mod download\ngo run create-account/create-account.go\n```\nYou should see the balance of your new account.\n\nYou'll also have a database file that keeps track of your seed state.\n\n## Next steps\n\nAfter certain events happen in your account, it emits them, and allows you to listen for them. For example, you may want to monitor your account for new payments. To do so, you need to [create an event listener](../go/listen-to-events.md).\n\nOr, you can [create a plugin](../go/create-plugin.md) that also emits events.\n","title":"アカウントを作成する | Go | アカウントモジュール | CLライブラリ"}}
