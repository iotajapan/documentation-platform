{"path":"docs/client-libraries/0.1/how-to-guides/python/transfer-iota-tokens","templateID":1,"sharedPropsHashes":{},"localProps":{"markdown":"# Send a micropayment in Python\n\n**In this guide, you send a micropayment of 1 IOTA by sending a [transfer bundle](/docs/getting-started/0.1/transactions/bundles) to a [node](/docs/getting-started/0.1/network/nodes).**\n\n## Packages\n\nTo complete this guide, you need to install the following package:\n\n```bash\npip install pyota\n```\n\n## IOTA network\n\nIn this guide, we connect to a [node](/docs/getting-started/0.1/network/nodes) on the [Devnet](/docs/getting-started/0.1/network/iota-networks#devnet) with the following network settings:\n\n- **[Minimum weight magnitude](/docs/getting-started/0.1/network/minimum-weight-magnitude)**: 9\n\n- **[Depth](/docs/getting-started/0.1/transactions/depth)**: 3\n\n## Step 1. Get test IOTA tokens\n\nTo send test IOTA tokens on the Devnet, the nodes must have a record of a greater than 0 balance for one of the addresses that belongs to your seed. To get test IOTA tokens to use on the Devnet, you can use the Devnet faucet.\n\n1\\. Create a new seed and back it up\n\n--------------------\n### Linux\n```bash\ncat /dev/urandom |tr -dc A-Z9|head -c${1:-81}\n```\n---\n### macOS\n```bash\ncat /dev/urandom |LC_ALL=C tr -dc 'A-Z9' | fold -w 81 | head -n 1\n```\n---\n### Windows PowerShell\n```bash\n$b=[byte[]] (1..81);(new-object Security.Cryptography.RNGCryptoServiceProvider).GetBytes($b);-join($b|%{[char[]] (65..90+57..57)[$_%27]})\n```\n---\n### Python\n```python\nfrom iota.crypto.types import Seed\nseed = Seed.random()\nprint(seed)\n```\n--------------------\n\n2\\. [Generate a new address for your seed](../python/generate-an-address.md)\n\n3\\. Copy and paste your address into the [Devnet faucet](https://faucet.devnet.iota.org), then wait for the tokens to be transferred to your address\n\n## Step 2. Create and send a transfer bundle\n\nTo transfer your test tokens from one address to another, you need to create and send a transfer bundle. This bundle needs an input transaction to withdraw the IOTA tokens from your address and an output transaction to deposit them into another address.\n\n1. Import the packages\n\n    ```python\n    from iota import Iota\n    from iota import ProposedTransaction\n    from iota import Address\n\n    ```\n\n2. Define your seed. Replace this seed with one that owns an address with test IOTA tokens\n\n    ```python\n    seed = 'JBN9ZRCOH9YRUGSWIQNZWAIFEZUBDUGTFPVRKXWPAUCEQQFS9NHPQLXCKZKRHVCCUZNF9CZZWKXRZVCWQ'\n    ```\n\n    :::info:\n    Because this bundle transfers IOTA tokens, the seed is used to sign it. Therefore, this seed's addresses must contain at least 1 IOTA token.\n    :::\n\n3. Connect to a node\n\n    ```python\n    api = Iota('https://nodes.devnet.iota.org:443', seed, testnet = True)\n    ```\n\n    :::info:\n    The `testnet` argument sets the [minimum weight magnitude](/docs/getting-started/0.1/network/minimum-weight-magnitude) to 9.\n    :::\n\n4. Define the address to which you want to send your IOTA token\n\n    ```python\n    address = 'ZLGVEQ9JUZZWCZXLWVNTHBDX9G9KZTJP9VEERIIFHY9SIQKYBVAHIMLHXPQVE9IXFDDXNHQINXJDRPFDXNYVAPLZAW'\n    ```\n\n5. Create a `ProposedTransaction` object that specifies the amount of IOTA tokens you want to transfer and the address to send the tokens to\n\n    ```python\n    tx = ProposedTransaction(\n    address=Address(address),\n    value = 1\n    )\n    ```\n\n6. To create a transfer bundle from your `ProposedTransaction` object, pass it to the [`send_transfer()`](https://pyota.readthedocs.io/en/latest/api.html#send-transfer) method, which handles [tip selection](/docs/node-software/0.1/iri/concepts/tip-selection), [remote proof of work](/docs/getting-started/0.1/transactions/proof-of-work), and sending the bundle to the [node](/docs/getting-started/0.1/network/nodes)\n\n    ```python\n    result = api.send_transfer(transfers=[tx] )\n    print('Bundle: ')\n    print(result['bundle']\n    ```\n\n    This method asks the node to check the balance of your seed's addresses. If your addresses have enough IOTA tokens to complete the transfer, the method creates input transactions to withdraw the full balance from enough of your addresses to fulfill the transfer. Then, the library adds those transactions to the transfer bundle and signs the bundle with the private keys of any withdrawn addresses.\n\n    :::info:\n    Your seed never leaves your device. The library generates addresses and sends them to the node.\n    :::\n\n    If the amount you want to transfer is less than the balance of your withdrawn addresses, the method creates another output transaction to transfer the remainder to an unspent address that belongs to your seed.\n\n    In the console, you should see the bundle hash of the transaction you just sent.\n\n:::success:Congratulations :tada:\nYou've just sent your first transfer bundle. Your transactions are attached to the Tangle and will be forwarded to the rest of the network. Now, you just need to wait until the transaction is confirmed for your balance to be updated.\n:::\n\n## Run the code\n\nWe use the [REPL.it tool](https://repl.it) to allow you to run sample code in the browser.\n\nClick the green button to run the sample code in this guide and see the results in the window.\n\nBefore you run this sample code, replace the seed with your own test seed.\n\n<iframe height=\"600px\" width=\"100%\" src=\"https://repl.it/@jake91/Send-IOTA-tokens-on-the-Devnet-Python?lite=true\" scrolling=\"no\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" sandbox=\"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals\"></iframe>\n\n## Next steps\n\n[Check the balance of your address](../python/check-balance.md).\n\nYou can also read your transaction, using a utility such as the [Tangle explorer](https://utils.iota.org). Just enter your bundle hash in the search bar.\n","title":"テストIOTAトークンを転送する | Python | ハウツーガイド | CLライブラリ"}}
