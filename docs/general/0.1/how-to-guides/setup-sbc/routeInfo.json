{"path":"docs/general/0.1/how-to-guides/setup-sbc","templateID":1,"sharedPropsHashes":{},"localProps":{"markdown":"# シングルボードコンピュータを設定する\n<!-- # Set up a single-board computer -->\n\n**シングルボードコンピュータ（SBC）は、単一の回路基板がメモリ、入力/出力ポート、マイクロプロセッサおよび他の必要な機能を含む小型のコンピュータです。SBC は、デスクトップなどのマルチボードコンピュータよりも軽量、コンパクト、信頼性が高く、電力効率もはるかに優れています。IOTA テクノロジーを使用する専用の組み込みアプリケーション用に SBC を設定できます。**\n<!-- **A single board computer (SBC) is a small computer in which a single circuit board includes memory, input/output ports, a microprocessor and any other necessary features. SBCs are lighter, more compact, more reliable and much more power efficient then multi-board computers such as desktops. You can set up an SBC for a purpose-built embedded application that uses IOTA technology.** -->\n\n## 前提条件\n<!-- ## Prerequisites -->\n\nこのガイドを完成するには、次のものが必要です。\n<!-- To complete this guide, you need the following: -->\n\n- SSH クライアントと構成済みネットワークがインストールされた Linux ベースのオペレーティングシステム（OS）。このガイドでは、Ubuntu を使用しますが、MacOS と同様に他の Linux ディストリビューションでも動作するはずです。\n  <!-- - A Linux-based operating system (OS) with installed SSH client and a configured network. In this guide, we use Ubuntu, however other Linux distributions as well as MacOS should work. -->\n\n    :::info:Windows ユーザー\n    [仮想マシン（VM）](../how-to-guides/set-up-virtual-machine.md)または[Linux サブシステム](https://docs.microsoft.com/en-us/windows/wsl/install-win10)を使用できます。サブシステムを使用すると、VM のオーバーヘッドなしに Linux を実行できます。あなたが上級ユーザーであれば、Linux ツールを Windows と同等のものとして置き換えることもできます。\n    :::\n    <!-- :::info:Windows users -->\n    <!-- You can use [a virtual machine (VM)](../how-to-guides/set-up-virtual-machine.md) or the [Linux Subsystem.](https://docs.microsoft.com/en-us/windows/wsl/install-win10).  With the subsystem, you can run Linux without the overhead of a VM.  If you are an advanced user, you can also replace the Linux tools with the Windows equivalents. -->\n    <!-- ::: -->\n\n- SBC。おすすめは `Rasperry Pi Zero W` です。\n  <!-- - An SBC. Our recommendation: Rasperry Pi Zero W -->\n\n- 可能であれば、ディスプレイとキーボードを使ってデバイスを設定します。\n  <!-- - If possible, you should use a display and a keyboard to set up your device. -->\n\n- SBC にイーサネットポートがない場合は、USB-UART アダプタを使用します。[CP2102](https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers)はよく知られている安価なアダプタですが、SBC には一体型のアダプタがあるかもしれません。調べるには、使用している SBC のドキュメントを参照します。\n  <!-- - If your SBC doesn't have an Ethernet port, use a USB-to-UART adapter. The [CP2102](https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers) is a well-known and inexpensive adapter, but your SBC might have an integrated one. To find out, look at the documentation for your SBC. -->\n\n## SD カードを準備する\n<!-- ## Prepare your SD card -->\n\n:::info:\nこのプロセスは、Orange Pi などの多くの SBC でも同様です。SBC のガイドが別にある場合は、そのガイドに従う必要があります。それ以外の場合は、多くの開発ボードをサポートしているので[Armbian](https://www.armbian.com/download/)を使用します。\n:::\n<!-- :::info: -->\n<!-- This process is similar for many SBCs such as the Orange Pi. -->\n<!-- If you have a separate guide for your SBC, you should follow that. Otherwise, use [Armbian](https://www.armbian.com/download/) because it supports many development boards. -->\n<!-- ::: -->\n\nシングルボードコンピュータでは、オペレーティングシステムを SD カードにフラッシュする必要があります。\n<!-- In single-board computers, the operating system must be flashed onto an SD card. -->\n\n1. [SD カードにオペレーティングシステムをフラッシュします](https://www.raspberrypi.org/documentation/installation/installing-images/)。\n  <!-- 1. [Flash an operating system on your SD card](https://www.raspberrypi.org/documentation/installation/installing-images/) -->\n\n2. SD カードを挿入して SBC の電源を入れます。\n  <!-- 2. Insert your SD card and turn on your SBC -->\n\n## 特定の機器の設定を続行する\n<!-- ## Continue with the setup for your specific device -->\n\n- デバイスでディスプレイとキーボードを使用できる場合は、[\"キーボードとディスプレイを使ってデバイスを設定する\"](#set-up-devices-with-keyboard-and-display)ガイドに従います。\n<!-- - If you can use a display and keyboard at your device, follow the [\"Set up devices with keyboard and display\"](#set-up-devices-with-keyboard-and-display) guide -->\n- ディスプレイとキーボードがなく、USB-to-UART アダプタがある場合は、[\"USB-to-UART アダプタを介してデバイスを設定する\"](#set-up-your-device-through-a-usb-to-uart-adapter)ガイドに従います。\n<!-- - If you do not have display and keyboard, but an USB-to-UART-Adapter, follow the [\"Set up your device through a USB-to-UART adapter\"](#set-up-your-device-through-a-usb-to-uart-adapter) guide -->\n- イーサネットしかない場合は、[\"イーサネットデバイスを設定する\"](#set-up-ethernet-devices)ガイドに従います。\n<!-- - If you only have Ethernet, follow the [\"Set up Ethernet devices\"](#set-up-ethernet-devices) guide -->\n\n<a name=\"set-up-devices-with-keyboard-and-display\"></a>\n## キーボードとディスプレイを使ってデバイスを設定する\n<!-- ## Set up devices with keyboard and display -->\n\n1. キーボードとディスプレイを SBC に接続します。\n  <!-- 1. Connect keyboard and display to your SBC -->\n\n2. デフォルトのユーザーとパスワードでログインします。\n  <!-- 2. Log in with the default user and password -->\n\n    :::info:\n    デフォルトのユーザー名またはパスワードがわからない場合は、Linux ディストリビューションの Web サイトを検索します。\n    :::\n    <!-- :::info: -->\n    <!-- If you don't know the default username or password, search the website of your Linux distribution. -->\n    <!-- ::: -->\n\n3. ネットワークインターフェースを設定します。\n  <!-- 3. Configure your network interface -->\n\n    イーサネットがある場合は、SBC をルーターに接続するだけです。WiFi を使用したいか、またはデバイスが WiFi しか持っていない場合は、WiFi を通してルーターに接続する必要があります。以下の手順で、`MY_SSID` をネットワークの名前に、`MY_PASSWORD` をネットワークのパスワードに置き換え、実行します。\n    <!-- If you have Ethernet, just connect your SBC to your router. -->\n    <!-- If you want to use WiFi or your device only has WiFi, you need to connect to your router through WiFi. -->\n    <!-- Do the following and replace `MY_SSID` with the name of your network and `MY_PASSWORD` with the password -->\n    <!-- of your network: -->\n\n    ```bash\n    nmcli dev wifi connect MY_SSID password MY_PASSWORD\n    ```\n\n4. SBC がインターネットに接続されているか確認します。\n  <!-- 4. Check if your SBC is connected to the Internet -->\n\n    ```bash\n    ping iota.org\n    ```\n\n5. IP アドレスを入手します。\n  <!-- 5. Get your IP address -->\n\n    `ifconfig` コマンドを実行します。プログラムはすべてのネットワークインタフェースと与えられたIPアドレスを返します。`eth` で始まるインターフェースはイーサネットネットワークインターフェースで、`wl` で始まるインターフェースは WiFi ネットワークインターフェースです。\n    <!-- Execute the `ifconfig` command. The program returns all network interfaces and the given IP addresses. -->\n    <!-- The interfaces starting with `eth` are Ethernet network interfaces, -->\n    <!-- and the ones starting with `wl` are the WiFi network interfaces. -->\n\n6. SSH 経由でデバイスに接続します。\n  <!-- 6. Connect to your device through SSH -->\n\n    :::info:IPv6\n    IPv6 を使用する場合は、SSH プログラムに`-6`コマンドライン引数を追加する必要があります。ネットワークインターフェイス名も追加する必要があります。ネットワークインターフェイス名がなければ、クライアントは SBC を見つけることができません。\n\n    例えば：\n    Host-system WiFi interface name: wlp3s0\n    The SBCs' local IPv6 address: fe80::c0a2:76c6:4ed5:a44\n\n    この例では、ホストシステムと SBC の両方が WiFi 経由でルーターに接続されています。正しいルーターに接続されているインターフェースを使用する必要があります。\n\n    故に、以下が上記の例のために実行するべきコマンドです。\n    ```bash\n    ssh -6 USERNAME@fe80::c0a2:76c6:4ed5:a442%wlp3s0\n    ```\n    :::\n    <!-- :::info:IPv6 -->\n    <!-- If you use IPv6, you must add the `-6` command line argument to the SSH program. -->\n    <!-- You must also add the network interface name. Without the name the client cannot find the SBC. -->\n    <!--  -->\n    <!-- For example: -->\n    <!-- Host-system WiFi interface name: wlp3s0 -->\n    <!-- The SBCs' local IPv6 address: fe80::c0a2:76c6:4ed5:a44 -->\n    <!--  -->\n    <!-- In this example, the host system and the SBC are both connected to the router through WiFi. -->\n    <!-- You must use the interface which is connected to the correct router. -->\n    <!--  -->\n    <!-- As a result, this is the command to execute for the example: -->\n    <!--  -->\n    <!-- ```bash -->\n    <!-- ssh -6 USERNAME@fe80::c0a2:76c6:4ed5:a442%wlp3s0 -->\n    <!-- ``` -->\n    <!-- ::: -->\n\n    IP アドレスを見つけたら、SSH を通して SBC に接続します。ホストシステムで次のコマンドを使用します。\n    <!-- If you found your IP address, you should connect to your SBC through SSH. -->\n    <!-- Use the following command on your host-system: -->\n    ```bash\n    ssh USERNAME@IP_ADRESS\n    ```\n\n:::success:おめでとうございます！:tada:\nSSH を通して SBC に接続しています。これで SBC でコマンドを実行できます。\n:::\n<!-- :::success:Congratulations! :tada: -->\n<!-- You're connected to your SBC through SSH. Now you can run commands on your SBC. -->\n<!-- ::: -->\n\n<a name=\"set-up-your-device-through-a-usb-to-uart-adapter\"></a>\n## USB-UART アダプタを介してデバイスを設定する\n<!-- ## Set up your device through a USB-to-UART adapter -->\n\nホストシステムで以下のコマンドを実行する必要があります。\n<!-- You must execute these commands on your host-system. -->\n\n1. PlatformIO をインストールします。\n  <!-- 1. Install PlatformIO -->\n\n    シリアルポートに接続するには追加のソフトウェアが必要です。[PlatformIO](https://docs.platformio.org/en/latest/userguide/cmd_device.html?highlight=monitor#platformio-device-monitor) をお勧めします。PlatformIO は SBC と対話するための簡単なコマンドツールを提供します。\n    <!-- You need additional software to connect to the serial port. -->\n    <!-- We recommend [PlatformIO](https://docs.platformio.org/en/latest/userguide/cmd_device.html?highlight=monitor#platformio-device-monitor). -->\n    <!-- PlatformIO provides a simple command tool to interact with your SBC. -->\n\n2. USB-UART アダプタを接続します。\n  <!-- 2. Plug in your USB-to-UART adapter -->\n\n3. 正しい USB ポートを探します。\n  <!-- 3. Find the right USB port -->\n\n    USB ポートは `/dev/ttyUSBX` にあります。`X` が USB ポートの番号です。正しい USB ポートを見つける最も簡単な方法は、USB アダプタを接続することです。まず、`ls /dev/ttyUSB*` を使用して USB SBC を確認し、USB アダプタを接続して USB SBC を再確認します。新しく追加された USB ポートが探している USB ポートです。\n    <!-- USB ports are available at /dev/ttyUSBX. X is the number of the USB port. -->\n    <!-- The simplest way to find the right USB port is to plug out the USB-Adapter, check for the USB SBCs with -->\n    <!-- ```ls /dev/ttyUSB*```, plug in the USB-Adapter and check again. The new added USB-port is the one you are looking for. -->\n\n4. 一部のアダプタは、アクセス権限に関して予期しない動作をします。念のため、権限を変更します。\n  <!-- 4. Some adapters have an unexpected behavior with their access permissions. Just in case, change the permissions -->\n\n    ```bash\n    sudo chmod 777 /dev/ttyUSBX\n    ```\n\n5. USB ポートに接続します。\n  <!-- 5. Connect to your USB port -->\n\n    ボーレートを見つけるために SBC のドキュメンテーションを参照します。Orange Pi Zero の場合は`115200`です。\n    <!-- Take a look at the documentation for your SBC to find its baud rate. In case of the Orange Pi Zero it is 115200. -->\n\n    ```bash\n    platformio SBC monitor -b BAUD_RATE -p /dev/ttyUSBX\n    ```\n\n6. SBC を再起動します。\n  <!-- 6. Restart your SBC -->\n\n7. SBC にログインします。\n  <!-- 7. Log in to your SBC -->\n\n    :::info:\n    デフォルトのユーザー名またはパスワードがわからない場合は、Linux ディストリビューションの Web サイトを検索します。\n    :::\n    <!-- :::info: -->\n    <!-- If you don't know the default username or password, search the website of your Linux distribution. -->\n    <!-- ::: -->\n\n    システムが要求したら、デフォルトのユーザー名とパスワードでログインします。root パスワードを変更して新しいユーザーを作成する必要があります。ほとんどのシステムでは、最初のログイン後にこの変更が必要です。\n    <!-- When the system asks for it, log in with the default username and password. -->\n    <!-- You should change the root password and create a new user. -->\n    <!-- Most systems require this change after the first login. -->\n\n8. 利用可能かつ必要な場合は、イーサネット経由でデバイスをルーターに接続します。\n  <!-- 8. If available and needed, connect your device to your router through Ethernet -->\n\n9. 利用可能かつ必要な場合は、WiFi ネットワークインターフェースを設定します。\n  <!-- 9. If available and needed, configure the WiFi network interface -->\n\n    WiFi 経由でインターネットに接続する場合は、次の手順で、`MY_SSID` をネットワークの名前に置き換え、`MY_PASSWORD` を WiFi パスワードに置き換え、実行します。\n    <!-- If you want to connect to the Internet through WiFi, -->\n    <!-- do the following and replace `MY_SSID` with the name of your network and replace `MY_PASSWORD` -->\n    <!-- with your WiFi password: -->\n\n    ```bash\n    nmcli dev wifi connect MY_SSID password MY_PASSWORD\n    ```\n\n    SBC がインターネットに接続されているか確認します。\n    <!-- Check if your SBC is connected to the Internet -->\n\n    ```bash\n    ping iota.org\n    ```\n\n10. IP アドレスを取得します。\n  <!-- 10. Get your IP address -->\n\n    `ifconfig` コマンドで IP アドレスを見つけることができます。`eth` で始まるインターフェースはイーサネットネットワークインターフェースで、`wl` で始まるインターフェースは WiFi ネットワークインターフェースです。\n    <!-- You can now find your IP address with the  `ifconfig` command. -->\n    <!-- The interfaces starting with `eth` are Ethernet network interfaces, -->\n    <!-- and the ones starting with `wl` are the WiFi network interfaces. -->\n\n11. SSH 経由で SBC に接続します。\n  <!-- 11. Connect to your SBC through SSH -->\n\n    IP アドレスを見つけたら、SSH を通して SBC に接続します。ホストシステムで次のコマンドを使用します。\n    <!-- If you found your IP address, you should connect to your SBC through SSH. -->\n    <!-- Use the following command on your host-system: -->\n\n    ```bash\n    ssh USERNAME@IP_ADRESS\n    ```\n\n:::success:おめでとうございます！:tada:\nSSH を通して SBC に接続しています。これで SBC でコマンドを実行できます。\n:::\n<!-- :::success:Congratulations! :tada: -->\n<!-- You're connected to your SBC through SSH. Now you can run commands on your SBC. -->\n<!-- ::: -->\n\n<a name=\"set-up-ethernet-devices\"></a>\n## イーサネットデバイスを設定する\n<!-- ## Set up Ethernet devices -->\n\n:::warning:\nこのタスクは IPv4 ネットワーク専用です。\n:::\n<!-- :::warning: -->\n<!-- This task is only for IPv4 networks. -->\n<!-- ::: -->\n\nホストシステムで以下のコマンドを実行する必要があります。\n<!-- You must execute these commands on your host-system. -->\n\n1. ローカルネットワークの IP アドレスを探します。\n  <!-- 1. Find IP addresses in your local network -->\n\n    サブネットバイトを0に設定し、ネットマスクを nmap 内に設定する必要があります。故に、今回の場合は以下のようになります。\n\n    ```bash\n    内部 IP アドレス：10.197.0.57\n    ネットマスク：255.255.255.0\n    ```\n    <!-- The subnet bytes to be set to zero and the netmask must be set in nmap. -->\n    <!-- So, in my case: -->\n    <!-- Internal IP address: 10.197.0.57 -->\n    <!-- Netmask: 255.255.255.0 -->\n\n    IP アドレス内のすべての場所は8ビット（256ステート）を取り、ネットマスクは3バイトに設定されているため、ネットマスクは24（3×8=24）です。\n    <!-- The netmask is 24, because every place in the IP address takes 8 bits (256 states) and the netmask is set on 3 bytes. 3x8=24. -->\n\n    ```bash\n    nmap -sn 10.197.0.0/24\n    ```\n\n    別の例：\n    ```bash\n    内部 IP アドレス：10.197.3.57\n    ネットマスク：255.255.0.0\n    ```\n    <!-- Another example: -->\n    <!-- Internal IP address: 10.197.3.57 -->\n    <!-- Netmask: 255.255.0.0 -->\n\n    この例ではネットマスクは 2x8=16 です。したがって、24ではなく16を使用する必要があります。\n    <!-- So, now it is just 2x8=16. So, you need to use 16 instead of 24. -->\n\n    ```bash\n    nmap -sn 10.197.0.0/16\n    ```\n\n    サブネットによっては、nmap がネットワーク内のすべての IP アドレスをスキャンする必要があるため、このプロセスにはしばらく時間がかかります。小さなサブネット（netmask=24）の場合、nmap は256個のアドレスをスキャンするだけでよいので、数秒かかります。大規模なネットワークでは時間がかかる可能性があります。たとえば netmask=16 の場合、nmap は 256*256 アドレスをスキャンする必要があります。私のテストケースでは、これは2944.17秒かかりました。あなたが巨大なローカルネットワークにいるならば、あなたは別の変種を使うことを考える必要があります。\n    <!-- Depending on the subnet, this process can take some time, since nmap needs to scan all IP addresses within the network. -->\n    <!-- For a small subnet (netmask=24) is just takes some seconds, since nmap just need to scan 256 addresses. -->\n    <!-- In a bigger network that can take more time. For example netmask=16: nmap needs to scan 256*256 addresses. -->\n    <!-- In my test-case this took 2944.17 seconds. If you are in a huge local network, you should consider using another variant. -->\n\n2. IP アドレスに接続します。\n  <!-- 2. Connect to the IP addresses -->\n\n    複数の IP アドレスを見つけた場合は、自分のアドレスが見つかるまですべての IP アドレスを試します。ホストシステムで次のコマンドを使用します。\n    <!-- If you found more than one IP address, just try every IP address until you found your address. -->\n    <!-- Use the following command on your host-system: -->\n\n    ```bash\n    ssh USERNAME@IP_ADRESS\n    ```\n\n:::success:おめでとうございます！:tada:\nSSH を通して SBC に接続しています。これで SBC でコマンドを実行できます。\n:::\n<!-- :::success:Congratulations! :tada: -->\n<!-- You're connected to your SBC through SSH. Now you can run commands on your SBC. -->\n<!-- ::: -->\n","title":"シングルボードコンピュータを設定する | ハウツーガイド | 一般"}}
