{"path":"docs/wallets/0.1/hub/how-to-guides/get-started-with-rest-api","templateID":1,"sharedPropsHashes":{},"localProps":{"markdown":"# RESTful API 入門\n<!-- # Get started with the RESTful API -->\n\n**ハブの RESTful API サーバーを公開すると，HTTP エンドポイントを介してハブと対話できます．これらのエンドポイントを使用すると，ハブデータベースおよび IOTA [ノード](/docs/getting-started/0.1/network/nodes)と対話することにより，ユーザーの IOTA トークンを管理できます．このガイドでは，RESTful API の基本を学習して，新しいデポジットアドレスを持つ新しいユーザーを作成します．**\n<!-- **When you expose Hub's RESTful API server, you can interact with it through HTTP endpoints. These endpoints allow you to manage users' IOTA tokens by interfacing with the Hub database and a [node](/docs/getting-started/0.1/network/nodes). In this guide, you learn the basics of the RESTful API to create a new user with some new deposit addresses.** -->\n\n## 前提条件\n<!-- ## Prerequisites -->\n\nこのガイドのコードサンプルを使用するには，次のものが必要です．\n<!-- To use the code samples in this guide, you must have the following: -->\n\n- [ハブのインスタンス](../how-to-guides/install-hub.md)\n<!-- - An [instance of Hub](../how-to-guides/install-hub.md) -->\n- [Node.js (8以上)](https://nodejs.org/en/)，[Python (3以上)](https://www.python.org/downloads/)と [PIP](https://pip.pypa.io/en/stable/installing/) もしくは [cURL](https://curl.haxx.se/download.html)\n<!-- - [Node.js (8+)](https://nodejs.org/en/), [Python (3+)](https://www.python.org/downloads/) and [PIP](https://pip.pypa.io/en/stable/installing/), or [cURL](https://curl.haxx.se/download.html) -->\n- [Visual Studio Code](https://code.visualstudio.com/Download) などのコードエディター\n<!-- - A code editor such as [Visual Studio Code](https://code.visualstudio.com/Download) -->\n- コマンドラインインターフェースへのアクセス\n<!-- - Access to a command-line interface -->\n\n---\n\n1\\. 新しいユーザーを作成します．`http://localhost:50051` URL を，ハブのセットアップ時に使用した `--listenAddress` フラグの値に置き換えます．\n<!-- 1\\. Create a new user. Replace the `http://localhost:50051` URL with value of the `--listenAddress` flag that you used when you set up Hub. -->\n\n--------------------\n### Python\n\n```python\nimport urllib2\nimport json\n\ncommand = {\n\t\"command\": \"CreateUser\",\n\t\"userId\": \"Jake\"\n}\n\nstringified = json.dumps(command)\n\nheaders = {\n\t'content-type': 'application/json',\n\t'X-IOTA-API-Version': '1'\n}\n\nrequest = urllib2.Request(url=\"http://localhost:50051\", data=stringified, headers=headers)\nreturnData = urllib2.urlopen(request).read()\n\njsonData = json.loads(returnData)\n\nprint jsonData\n```\n---\n### Node.js\n\n```js\nvar request = require('request');\n\ncommand = {\n  \"command\": \"CreateUser\",\n  \"userId\": \"Jake\"\n}\n\nvar options = {\n  url: 'http://localhost:50051',\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'X-IOTA-API-Version': '1'\n  },\n  json: command\n};\n\nrequest(options, function (error, response, data) {\n  if (!error && response.statusCode == 200) {\n    console.log(data);\n  }\n});\n```\n---\n### cURL\n\n```bash\ncurl http://localhost:50051 \\\n-X POST \\\n-H 'Content-Type: application/json' \\\n-H 'X-IOTA-API-Version: 1' \\\n-d '{\n  \"command\": \"CreateUser\",\n  \"userId\": \"Jake\"\n}'\n```\n--------------------\n\nコンソールに空のオブジェクトが表示されます．これは，ユーザーが作成されたことを意味します．\n<!-- You should see an empty object in the console, which means that the user was created. -->\n\n:::info:\nこのユーザーは，[`user_account` テーブルのクエリ](../how-to-guides/query-the-database.md)によってハブデータベースで確認できます．\n:::\n<!-- :::info: -->\n<!-- You can see this user in the Hub database by [querying the `user_account` table](../how-to-guides/query-the-database.md). -->\n<!-- ::: -->\n\n2\\. [チェックサム](/docs/getting-started/0.1/clients/checksums)を付随して新しい預け入れアドレスを作成します．\n<!-- 2\\. Create a new deposit address with a [checksum](/docs/getting-started/0.1/clients/checksums) -->\n\n--------------------\n### Python\n\n```python\nimport urllib2\nimport json\n\ncommand = {\n\t\"Command\": \"GetDepositAddress\",\n\t\"userId\": \"Jake\",\n\t\"includeChecksum\": \"true\"\n}\n\nstringified = json.dumps(command)\n\nheaders = {\n\t'content-type': 'application/json',\n\t'X-IOTA-API-Version': '1'\n}\n\nrequest = urllib2.Request(url=\"http://localhost:50051\", data=stringified, headers=headers)\nreturnData = urllib2.urlopen(request).read()\n\njsonData = json.loads(returnData)\n\nprint jsonData\n```\n---\n### Node.js\n\n```js\nvar request = require('request');\n\ncommand = {\n  \"command\": \"GetDepositAddress\",\n  \"userId\": \"Jake\",\n  \"includeChecksum\": \"true\"\n}\n\nvar options = {\n  url: 'http://localhost:50051',\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'X-IOTA-API-Version': '1'\n  },\n  json: command\n};\n\nrequest(options, function (error, response, data) {\n  if (!error && response.statusCode == 200) {\n    console.log(data);\n  }\n});\n```\n---\n### cURL\n\n```bash\ncurl http://localhost:50051 \\\n-X POST \\\n-H 'Content-Type: application/json' \\\n-H 'X-IOTA-API-Version: 1' \\\n-d '{\n  \"command\": \"GetDepositAddress\",\n  \"userId\": \"Jake\",\n  \"includeChecksum\": \"true\"\n}'\n```\n--------------------\n\n標準出力には，90トライトのデポジットアドレスが表示されます．\n<!-- In the output, you should see a 90-tryte deposit address. -->\n\n```bash\n\"address\": \"RDZVDZKRBX9T9L9XXONXDVJDRKYPAABWMQLORGCDCWHDDTSOPRZPCQB9AIZZWZAQ9NBZNVUUUSPQHRGWDYZUVP9WSC\"\n```\n\n:::info:\nデータベースでは，アドレスは常にチェックサムなしで保存されます．\n:::\n<!-- :::info: -->\n<!-- In the database, addresses are always saved without the checksum. -->\n<!-- ::: -->\n\n3\\. ユーザーのデポジットアドレスに IOTA トークンを送信します．\n<!-- 3\\. Send some IOTA tokens to the user's deposit addresses -->\n\n:::info:\n[公式トリニティウォレット](/docs/wallets/0.1/trinity/introduction/overview)を使用して IOTA トークンを送信できます．\n:::\n<!-- :::info: -->\n<!-- You can use the [official Trinity wallet](/docs/wallets/0.1/trinity/introduction/overview) to send IOTA tokens. -->\n<!-- ::: -->\n\n4\\. ユーザーの残高と履歴を取得します．\n<!-- 4\\. Get the balance and history for the user -->\n\n--------------------\n### Python\n\n```python\nimport urllib2\nimport json\n\ncommand = {\n\t\"command\": \"GetBalance\",\n\t\"userId\": \"Jake\"\n}\n\nstringified = json.dumps(command)\n\nheaders = {\n\t'content-type': 'application/json',\n\t'X-IOTA-API-Version': '1'\n}\n\nrequest = urllib2.Request(url=\"http://localhost:50051\", data=stringified, headers=headers)\nreturnData = urllib2.urlopen(request).read()\n\njsonData = json.loads(returnData)\n\nprint jsonData\n```\n---\n### Node.js\n\n```js\nvar request = require('request');\n\ncommand = {\n  \"command\": \"GetBalance\",\n  \"userId\": \"Jake\"\n}\n\nvar options = {\n  url: 'http://localhost:50051',\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'X-IOTA-API-Version': '1'\n  },\n  json: command\n};\n\nrequest(options, function (error, response, data) {\n  if (!error && response.statusCode == 200) {\n    console.log(data);\n  }\n});\n```\n---\n### cURL\n\n```bash\ncurl http://localhost:50051 \\\n-X POST \\\n-H 'Content-Type: application/json' \\\n-H 'X-IOTA-API-Version: 1' \\\n-d '{\n  \"command\": \"GetBalance\",\n  \"userId\": \"Jake\"\n}'\n```\n--------------------\n\nIOTA トークンをデポジットアドレスに送信した場合，標準出力には次のように表示されます．\n<!-- If you sent IOTA tokens to the deposit address, the output should display something like the following: -->\n\n```shell\n10 i available for 'Jake'\nHistory:\nevents {\n    timestamp: 1540856214000\n    type: DEPOSIT\n    amount: 10\n}\n```\n\n[thetangle.org](https://thetangle.org/) などのタングルエクスプローラーでデポジットアドレスの履歴を見ると，ハブがデポジットアドレスから別のアドレス（ユーザーが取り出しを要求するまで資金が集められるハブ所有者のアドレス）に資金を移動したことが分かります．このプロセスは[スウィープ](../concepts/sweeps.md)と呼ばれます．\n<!-- If you look at the deposit address history in a Tangle explorer such as [thetangle.org](https://thetangle.org/), you will see that Hub moved the funds away from the deposit address and into another address (Hub owner's address where funds are aggregated until a user requests a withdrawal). This process is called a [sweep](../concepts/sweeps.md). -->\n\n:::success:おめでとうございます:tada:\n新しいユーザーを正常に作成し，ハブがデポジットを処理する方法をテストしました．\n:::\n<!-- :::success:Congratulations :tada: -->\n<!-- You've successfully created a new user and tested how Hub handles deposits. -->\n<!-- ::: -->\n\n## 次のステップ\n<!-- ## Next steps -->\n\n[デモ取引所のセットアップ](../how-to-guides/create-a-demo-exchange.md)を行い，ハブの統合をテストする．\n<!-- [Set up a demo exchange](../how-to-guides/create-a-demo-exchange.md) to test an integration of Hub. -->\n\n[統合オプションをご覧ください](../how-to-guides/integrate-hub.md)．\n<!-- [See our integration options](../how-to-guides/integrate-hub.md). -->\n","title":"RESTful API 入門 | ハウツーガイド | Hub | ウォレット"}}
